{% extends 'backend/admin/base.html.twig' %}

{% block body %}

	<h1 class="mt-4 mb-4">Dashboard</h1>

	<table class="table table-hover">
		<thead>
			<tr>
			  <th scope="col">id</th>
			  <th scope="col">Titre</th>
			  <th scope="col">Cat√©gorie</th>
			  <th scope="col">Quartier</th>
			  <th scope="col">Actions</th>
			</tr>
		</thead>
		<tbody>
		{% for property in properties %}
			<tr>
			  <th scope="row">{{ property.id }}</th>
			  <td>{{ property.title}}</td>
			  {% for category in property.categories %}
			  <td>{{ category.name }}</td>
			  {% endfor %}
			  <td>{{ property.quarter }}</td>
			  <td>
			  	<a href="{{ path('app_property_edit', {id: property.id}) }}" class="btn btn-primary">Editer</a>

			  	<form method="post" action="{{ path('app_property_delete', {id: property.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');" style="display: inline-block;">
					<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ property.id) }}">
					<button class="btn btn-danger">Supprimer</button>
				</form>

			  </td>
			</tr>
		{% endfor %}
		</tbody>
	</table>

    <div class="navigation">
        {{ knp_pagination_render(properties) }}
    </div>

{% endblock %}